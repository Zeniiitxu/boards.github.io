<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Past Papers Board</title>
    <link rel="icon" href="LOGO.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root {
            --bg-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333;
            --border-color: #e0e4e8;
            --dropdown-bg: #ffffff;
            --dropdown-hover: #f8f9fa;
            --shadow-color: rgba(0,0,0,0.08);
        }
        [data-theme="dark"] {
            --bg-color: #000;
            --container-bg: #1e1e1e;
            --text-color: #fff;
            --border-color: #2d2d2d;
            --dropdown-bg: #2d2d2d;
            --dropdown-hover: #363636;
            --shadow-color: rgba(0,0,0,0.3);
        }
        body{
            font-family:-apple-system, BlinkMacSystemFont,'Segoe UI', Roboto, Arial, sans-serif;
            margin:0; min-height:100vh; padding:40px; background:var(--bg-color);
            color:var(--text-color); display:flex; flex-direction:column; align-items:center; gap:32px;
            transition:0.3s; position:relative; padding-top:100px; padding-bottom:40px;
        }
        .theme-toggle{
            position:absolute; top:30px; right:60px; width:80px; height:40px; background:#e0e0e0;
            border-radius:25px; cursor:pointer; display:flex; align-items:center; padding:5px; box-sizing:border-box;
            transition:all 0.3s ease; z-index:1000;
        }
        .theme-toggle::before{
            content:''; width:30px; height:30px; background:#fff; border-radius:50%; transition:transform 0.3s ease;
        }
        .theme-toggle.dark{background:#333;}
        .theme-toggle.dark::before{transform:translateX(40px);}
        .theme-toggle .icon{position:absolute; top:50%; transform:translateY(-50%); font-size:16px;}
        .theme-toggle .sun{left:8px; opacity:1; transition:opacity 0.3s;}
        .theme-toggle .moon{right:8px; opacity:0; transition:opacity 0.3s;}
        .theme-toggle.dark .sun{opacity:0;}
        .theme-toggle.dark .moon{opacity:1;}
        .form-container{
            background:var(--container-bg); width:100%; max-width:1200px; margin:0 auto; display:flex; gap:20px; flex-wrap:wrap;
            padding:40px; border-radius:16px; box-shadow:0 4px 6px var(--shadow-color); transition:all 0.3s ease;
        }
        .form-container:hover{box-shadow:0 8px 16px rgba(0,0,0,0.12); transform:translateY(-2px);}
        .form-group{position:relative; min-width:200px; flex:1;}
        label{display:block; margin-bottom:8px; font-weight:500; color:var(--text-color); font-size:13px;}
        .info-icon{width:16px; height:16px; background:#e9ecef; border-radius:50%; display:inline-flex; align-items:center; justify-content:center; font-size:11px; color:#666; cursor:help;}
        select,input{width:100%; padding:8px 16px; border:1px solid var(--border-color); border-radius:6px;
            background:var(--dropdown-bg); color:var(--text-color); cursor:pointer; appearance:none; font-size:14px;
            box-shadow:0 2px 4px var(--shadow-color); transition:all 0.2s;}
        select{padding-right:36px;}
        .form-group::after{content:'‚ñæ'; font-size:16px; color:var(--text-color); position:absolute; right:12px; top:38px; opacity:0.5;}
        select:hover,input:hover{border-color:#4a90e2; box-shadow:0 2px 8px var(--shadow-color);}
        select:focus,input:focus{outline:none; border-color:#4a90e2; box-shadow:0 0 0 3px rgba(74,144,226,0.15);}
        .button-container{flex-basis:100%; margin-top:32px; display:flex; justify-content:flex-end; gap:16px;}
        .youtube-button{background:#FF0000; color:#fff; padding:10px 24px; border:none; border-radius:6px; cursor:pointer; font-size:14px; display:flex; align-items:center; gap:8px; transition:all 0.2s;}
        .youtube-button:hover{background:#CC0000; transform:translateY(-1px);}
        .youtube-button i{font-size:18px;}
        button{background:none; border:none; color:var(--text-color); cursor:pointer; transition:0.2s;}
        button:hover{opacity:0.7;}
        .history-container{flex:3; min-width:850px; background:var(--container-bg); border-radius:16px; box-shadow:0 4px 6px var(--shadow-color); padding:24px; transition:all 0.3s;}
        .history-container:hover{box-shadow:0 8px 16px rgba(0,0,0,0.12); transform:translateY(-2px);}
        .history-title{font-size:18px; font-weight:600; margin-bottom:16px; color:var(--text-color);}
        .history-table{width:100%; border-collapse:collapse;}
        .history-table th, .history-table td{padding:16px; text-align:left; border-bottom:1px solid var(--border-color);}
        .history-table th:first-child, .history-table td:first-child{padding-left:4px;}
        .history-table th{font-weight:500; font-size:14px; opacity:0.8;}
        .history-table tr{cursor:pointer; transition:0.2s;}
        .history-table tr:hover{background:var(--dropdown-hover);}
        .history-link{color:#4a90e2; text-decoration:none;}
        .history-link:hover{text-decoration:underline;}
        .no-history{text-align:center; padding:20px; color:var(--text-color); opacity:0.7;}
        .subject-icon{margin-right:12px; color:#4a90e2;}
        .history-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;}
        .reset-button{background:#dc3545; color:#fff; padding:8px 16px; border:none; border-radius:4px; cursor:pointer; font-size:13px; transition:0.2s;}
        .reset-button:hover{background:#c82333; transform:translateY(-1px);}
        .delete-item{color:#dc3545; background:none; border:none; padding:4px; cursor:pointer; font-size:14px; opacity:0.7; transition:0.2s; display:flex; align-items:center; justify-content:center; width:24px; height:24px; border-radius:50%;}
        .delete-item:hover{opacity:1; transform:scale(1.1);}
        .history-table td:last-child{display:flex; justify-content:space-between; align-items:center; gap:12px; padding-right:8px;}
        .countdown-section{width:min(90%,1200px); margin:0 auto; display:flex; gap:120px; padding:0 8px; margin-left:40px;}
        .countdown-container{width:350px; height:280px; perspective:2000px; cursor:pointer; margin:0 auto; margin-bottom:16px; position:relative;}
        .countdown-container.flipped .countdown-flip-card{transform:rotateY(180deg);}
        .countdown-flip-card{position:absolute; inset:0; width:100%; height:100%; text-align:center; transition:transform 0.6s; transform-style:preserve-3d; transform-origin:50% 50%;}
        .countdown-front, .countdown-back{position:absolute; width:100%; height:100%; backface-visibility:hidden; background:var(--container-bg); border-radius:16px; box-shadow:0 4px 6px var(--shadow-color); display:flex; flex-direction:column; align-items:center; justify-content:center; padding:28px; box-sizing:border-box;}
        .countdown-back{transform:rotateY(180deg);}
        .flip-icon{position:absolute; top:20px; right:20px; font-size:16px; opacity:0.5; transition:0.2s; color:var(--text-color);}
        .countdown-container:hover .flip-icon{opacity:1;}
        .countdown-title{font-size:16px; font-weight:500; margin-bottom:24px;}
        .countdown-number{font-size:64px; font-weight:600; color:#4a90e2; line-height:1; margin-bottom:24px;}
        .countdown-details{font-size:14px; color:var(--text-color); opacity:0.6;}
        /* Calendar */
        .calendar-container{flex:1; background:var(--container-bg); border-radius:16px; box-shadow:0 4px 6px var(--shadow-color); padding:16px; transition:0.3s; width:330px; margin-left:50px; height:fit-content;}
        .calendar-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:16px; padding:0;}
        .calendar-title{font-size:16px; font-weight:500; margin:0; color:var(--text-color);}
        .calendar-weekdays{display:grid; grid-template-columns:repeat(7,1fr); text-align:center; font-size:13px; font-weight:500; color:var(--text-color); opacity:0.7; margin-bottom:4px;}
        .calendar-days{display:grid; grid-template-columns:repeat(7,1fr); gap:4px; padding:0; margin:0; grid-auto-rows:minmax(32px,auto);}
        .calendar-day{position:relative; width:32px; height:32px; display:flex; align-items:center; justify-content:center; font-size:14px; cursor:pointer; border-radius:50%; color:var(--text-color); transition:0.2s; margin:0; background:none;}
        .calendar-day.highlighted{background:#4a90e2; color:white; font-weight:500;}
        .calendar-day.current{background:#2ecc71; color:white; font-weight:600; border:2px solid #27ae60;}
        .calendar-day.current:hover{background:#27ae60; opacity:1;}
        .calendar-day.current.highlighted{background:#4a90e2; border-color:#357abd;}
        .calendar-day.mock{background:#9c27b0; color:white; font-weight:500;}
        .calendar-nav{width:28px; height:28px; font-size:20px; opacity:0.7; background:none; border:none; color:var(--text-color); cursor:pointer; display:flex; align-items:center; justify-content:center; transition:opacity 0.2s; padding:0;}
        .calendar-nav:hover{opacity:1;}
        .calendar-day.disabled{opacity:0.3; cursor:default;}
        .calendar-day.exam{background-color:#ff5722; color:white;}
        .calendar-day.deadline{background-color:#ffc107; color:black;}
        .date-tooltip{position:absolute; background:var(--container-bg); padding:8px 12px; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.15); z-index:100; width:max-content; max-width:200px; opacity:0; visibility:hidden; bottom:calc(100% + 10px); left:50%; transform:translateX(-50%); text-align:left; border:1px solid var(--border-color); font-size:12px; color:var(--text-color); pointer-events:none; transition:0.2s; white-space:nowrap;}
        .date-tooltip div{margin:4px 0; white-space:nowrap;}
        .date-tooltip div:not(:last-child){border-bottom:1px solid var(--border-color); padding-bottom:4px;}
        .calendar-day:hover .date-tooltip{opacity:1; visibility:visible;}
    </style>
</head>
<body>
    <div class="theme-toggle" id="themeToggle">
        <span class="icon sun">‚òÄÔ∏è</span>
        <span class="icon moon">üåô</span>
    </div>

    <div class="form-container">
        <div class="form-group">
            <label for="subjectCode">Subject <span class="info-icon">?</span></label>
            <select id="subjectCode">
                <option value="9702">üçè Physics</option>
                <option value="9701">üß™ Chemistry</option>
                <option value="9618">üíª Computer Science</option>
                <option value="9608">üíª Computer (before 2021)</option>
                <option value="9709">üìê Mathematics</option>
                <option value="8021">üìñ English General Paper</option>
            </select>
        </div>

        <div class="form-group">
            <label for="component">Component</label>
            <input type="text" id="component" placeholder="Enter component">
        </div>

        <div class="form-group">
            <label for="session">Session <span class="info-icon">?</span></label>
            <select id="session">
                <option value="f">Feb/March</option>
                <option value="s">May/June</option>
                <option value="w">Oct/Nov</option>
            </select>
        </div>

        <div class="form-group">
            <label for="year">Year</label>
            <select id="year"></select>
        </div>

        <div class="form-group">
            <label for="paperType">Paper Type</label>
            <select id="paperType">
                <option value="ms">Marking Scheme (ms)</option>
                <option value="qp">Question Paper (qp)</option>
                <option value="in">Insert (in)</option>
                <option value="sf">Source File (sf)</option>
            </select>
        </div>

        <div class="button-container">
            <button class="youtube-button"><i class="fa-brands fa-youtube"></i> YouTube</button>
            <button id="submitButton">Open Past Paper</button>
        </div>
    </div>

    <div class="countdown-section">
        <div class="history-container">
            <div class="history-header">
                <h2 class="history-title">Search History</h2>
                <button class="reset-button" onclick="clearHistory()">Clear All</button>
            </div>
            <table class="history-table">
                <thead>
                    <tr>
                        <th>Subject</th><th>Component</th><th>Session</th><th>Year</th><th>Type</th><th>Date</th>
                    </tr>
                </thead>
                <tbody id="historyTableBody">
                    <tr><td colspan="6" class="no-history">No search history yet</td></tr>
                </tbody>
            </table>
        </div>
        <!-- Countdown and Calendar placeholders -->
    </div>

    <script>
        // Populate years
        const yearSelect = document.getElementById('year');
        const currentYear = 2026;
        for(let y=currentYear;y>=2000;y--){
            let opt=document.createElement('option');
            opt.value=y.toString().slice(-2);
            opt.textContent=y;
            yearSelect.appendChild(opt);
        }

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        const savedTheme = localStorage.getItem('theme');
        if(savedTheme){document.documentElement.setAttribute('data-theme', savedTheme); if(savedTheme==='dark') themeToggle.classList.add('dark');}
        themeToggle.addEventListener('click', ()=>{themeToggle.classList.toggle('dark'); const isDark=themeToggle.classList.contains('dark'); document.documentElement.setAttribute('data-theme', isDark?'dark':'light'); localStorage.setItem('theme', isDark?'dark':'light');});

        // Search history
        const submitBtn = document.getElementById('submitButton');
        submitBtn.addEventListener('click', ()=>{
            const subject=document.getElementById('subjectCode').value;
            const component=document.getElementById('component').value;
            const session=document.getElementById('session').value;
            const year=document.getElementById('year').value;
            const paperType=document.getElementById('paperType').value;
            let history=JSON.parse(localStorage.getItem('searchHistory')||'[]');
            history.unshift({subject,component,session,year,paperType,timestamp:new Date().toISOString()});
            history=history.slice(0,10);
            localStorage.setItem('searchHistory',JSON.stringify(history));
            updateHistory();
        });
        function updateHistory(){
            const history=JSON.parse(localStorage.getItem('searchHistory')||'[]');
            const tbody=document.getElementById('historyTableBody');
            if(history.length===0){tbody.innerHTML='<tr><td colspan="6" class="no-history">No search history yet</td></tr>';return;}
            tbody.innerHTML='';
            history.forEach(item=>{
                const tr=document.createElement('tr');
                tr.innerHTML=`<td>${item.subject}</td><td>${item.component}</td><td>${item.session}</td><td>${item.year}</td><td>${item.paperType}</td><td>${new Date(item.timestamp).toLocaleString()}</td>`;
                tbody.appendChild(tr);
            });
        }
        function clearHistory(){localStorage.removeItem('searchHistory'); updateHistory();}
        updateHistory();
    </script>
</body>
</html>
